![TBZ Logo](../x_gitres/tbz_logo.png)


[TOC]

# KN02: IaaS - Virtuelle Server

Beachten Sie die [allgemeinen Informationen zu den Abgaben](https://gitlab.com/ch-tbz-it/Stud/m346/m346/-/blob/main/Abgaben.md).

Ein paar zusätzliche notwendige Grundlagen finden Sie in der Datei [Cloud Computing in Gitlab](https://gitlab.com/ch-tbz-it/Stud/m346/m346/-/blob/main/CloudComputing.md).



## Lernziele

- Sie machen die ersten Schritte mit IAAS mit AWS. Aber alles was wir hier umsetzen, bieten auch andere Public Cloud Anbieter (z. B. Microsoft Azure , Google).
- Sie erlernen den  Umgang mit AWS und virtuellen Servern (Instanzen).
- Sie lernen wie Sie mit einem SSH Key umgehen, um auf die IAAS Umgebung / virtuelle Server zuzugreifen. 



## A) Umgang mit AWS Kurs (20%)

Sie haben per E-Mail eine Einladung zu einem AWS Kurs bekommen. Die E-Mail hat den Titel "Course Invitation". Erstellen Sie den notwendigen Account. **Achtung**: Falls Sie aufgefordert werden eine Kreditkarte anzugeben, sind Sie am falschen Ort!

Verwenden Sie ab sofort für alle Kompetenznachweise (KNs) den AWS Kurs "**AWS Academy Lerner Lab**". 

![learner-lap2](./x_res/learner-lap.png)

Nachdem Sie den Link aufgerufen haben, sehen Sie das folgende Bild vor sich. Die markierten Bereiche von links nach rechts:

- Der Status Ihrer Umgebung. Wenn der Kreis grün ist, ist die Umgebung gestartet und Sie können auf den AWS-Link klicken, um in die AWS-Konsole zu gelangen
- Sie sehen wieviel des Budgets bereits verbraucht ist
- Sie sehen die verbleibende Zeit bevor die AWS-Konsole heruntergefahren wird. Im Lerner Lab werden Fortschritte **nicht** gelöscht, aber die Umgebung fährt nach 4h herunter und Sie müssen Sie neu starten.
- Links zum Starten und Stoppen.
- Die graue Konsole unten benötigen Sie **nicht**.

![learner-lap2](./x_res/learner-lap2.png)


Gehen Sie nun in den AWS Bereich *EC2*, in dem Sie im Academy Learner Lab auf den Link *"AWS mit dem grünen Kreis"* klicken. Falls der Punkt bei Ihnen noch **rot** ist, ist der AWS Bereich für die Arbeit noch nicht bereit. Sie müssen eventuell einige Minuten warten bis dieser Bereich verfügbar ist.

Hier können Sie die virtuelle Server (Instanzen) erstellen.

![ec2](./x_res/ec2.png)


## B) Instanz erstellen (40%)

Erstellen Sie nun eine Instanz. Die meisten Einstellungen benötigen Sie noch nicht, aber schauen Sie diese trotzdem an!

Verwenden Sie die folgenden Parameter für Ihre Instanz:

- Name: Geben Sie einen beliebigen Namen, z. B. *KN02*
- OS Image: Verwenden Sie **Ubuntu 24.04**. 
- Instanz-Typ: Verwenden Sie **t2.micro**
- Key-Pair: Erstellen Sie hier **zwei** neue Keys mit den Standardeinstellungen. Benennen Sie die Keys *vorname1* und *vorname2*. Wählen Sie dann den **ersten** Key aus, z. B. *vorname1*
- Alle anderen Einstellungen können Sie belassen wie sie sind.

**Abgaben:**

- Screenshot der Liste der Instanzen und der Details Ihrer Instanz, die Sie hier erstellt haben. Die öffentliche IP muss sichtbar sein!
- Als kurzer Text/Aufzählung geben Sie die folgenden Einstellungen zu Ihrer Instanz an: Diskgrösse, Betriebssystem, Grösse des RAM, Anzahl der CPUs



## C) Zugriff mit SSH-Key (40%)

[Lesen Sie sich in die funktionsweise von SSH und Private/Public Key ein](https://gitlab.com/ch-tbz-it/Stud/m346/m346/-/blob/main/SshPublicPrivateKey.md).

Zeigen Sie, dass sie sich **nur** mit **dem ausgewählten** Schlüssel auf den Server einloggen können. 

> AWS speichert ihren privaten Schlüssel **nicht**. Sie können den nicht wiederherstellen. Auf dem Ubuntu-Server liegt immer nur der öffentliche Schlüssel. Seien Sie also vorsichtig und verlieren Sie den Schlüssel nicht.

**Abgaben**:

- Screenshot mit dem ssh-Befehl und des Resultats unter Verwendung des **ersten** Schlüssels
- Screenshot mit dem ssh-Befehl und des Resultats unter Verwendung des **zweiten** Schlüssels
- Screenshot der Instanz-Detail (oder Liste), so dass der verwendete Schlüssel sichtbar ist.



## Leitfragen / Checkpoints

- Ich komme mit der Schulungsumgebung von AWS zurecht und kenne die Struktur der Module
- Im Learner Lab kann ich Umgebungen starten und stoppen, Budget einsehen und weiss wie lange meine Umgebung bestehen bleibt. 
- Ich weiss was EC2 bedeutet und kenne die Inhalte, die ich dort erstellen und verwalten kann.
- Ich kann eine Instanz/virtuellen Server erstellen und kann die Einstellung zum Speicher, RAM, CPU bestimmen und einstellen.
- Ich weiss wie die private/public Key Verschlüsselung funktioniert und kann ausführen wo (Gerät und Verzeichnis) der Public und der Private Key liegen muss.
- Ich kann den öffentlichen Schlüssel aus dem privaten Schlüssel extrahieren.
- Ich kenne den Befehl `ssh` und die verschiedenen Parameter und kann mich damit auf einen Remote Server einloggen.
